{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

        <title>
            {% block title %} 
            {% endblock %} 
        </title>
        {% block head %} 
        {% endblock %}


    </head>

    <body>

        <style>
            .btn {
                margin: 5px;
            }
        </style>

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
          <div class="navbar-brand" style="margin-left: 20px;">
            <h3>Email</h3>
            {% if request.user.is_authenticated %} 
            <h6 class="text-muted">Signed in as <strong>{{ request.user.username|title }}.</strong></h6>
            {% else %} 
            <h6 class="text-muted">Not Signed in.</h6>
            {% endif %} 
          </div>
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a id='admin' class="btn btn-outline-info" aria-current="page" href="{% url 'admin:index' %}">Admin</a>
            </li>
            <li class="nav-item">
              <button id='inbox' data-link="{% url 'mail:api_mailbox' 'inbox' %}" class="btn btn-outline-warning" aria-current="page">Inbox</button>
            </li>
            <li class="nav-item">
              <button id='compose' class="btn btn-outline-warning" aria-current="page">Compose</button>
            </li>
            <li class="nav-item">
              <button id="sent" class="btn btn-outline-warning" aria-current="page" data-link="{% url 'mail:api_mailbox' 'sent' %}">Sent</button>
            </li>
            <li class="nav-item">
              <button  id="archived" class="btn btn-outline-warning" aria-current="page" data-link="{% url 'mail:api_mailbox' 'archived' %}">Archived</button>
            </li>
            {% if request.user.is_authenticated %} 
            <li class="nav-item">
              <a  id="logout1" data-link="logout" class="btn btn-outline-info" aria-current="page" href="{% url 'mail:logout' %}">Logout</a>
            </li>
            {% else %} 
            <li class="nav-item">
              <a  id="register1" data-link="register" class="btn btn-outline-info" aria-current="page" href="{% url 'mail:register' %}">Register</a>
            </li>
            <li class="nav-item">
              <a  id="login1" data-link="login" class="btn btn-outline-info" aria-current="page" href="{% url 'mail:login' %}">Login</a>
            </li>
            {% endif %}
            
          </ul>
        </nav>


          <!-- Messages -->

        {% for message in messages %}
        <div class="container ">
          <div class="alert {{ message.tags }} alert-dismissible" role="alert" >
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        </div>
        {% endfor %} 

        {% block body %} 
        {% endblock %}
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    </body>
</html>